{% load static %}
{% load i18n %}
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- üîç SEO Meta -->
  <meta name="title" content="Polyatop ‚Äî –û–Ω–ª–∞–π–Ω-–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –ø–ª–æ—â–∞–¥–æ–∫" />
  <meta name="description" content="Polyatop ‚Äî —Ü–∏—Ñ—Ä–æ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –æ–Ω–ª–∞–π–Ω-–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –ø–ª–æ—â–∞–¥–æ–∫. –ò—â–∏, –±—Ä–æ–Ω–∏—Ä—É–π –∏ —É–ø—Ä–∞–≤–ª—è–π –∞—Ä–µ–Ω–¥–∞–º–∏ –ª–µ–≥–∫–æ." />
  <meta name="keywords" content="Polyatop, –ü–æ–ª—è—Ç–æ–ø, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –ø–ª–æ—â–∞–¥–æ–∫, –∞—Ä–µ–Ω–¥–∞ —Ñ—É—Ç–±–æ–ª—å–Ω–æ–≥–æ –ø–æ–ª—è, –∞—Ä–µ–Ω–¥–∞ —Å–ø–æ—Ä—Ç–∑–∞–ª–∞, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–µ, —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –ø–ª–æ—â–∞–¥–∫–∏, —Å–ø–æ—Ä—Ç –ø–æ–ª—è, –∞—Ä–µ–Ω–¥–∞ –∫–æ—Ä—Ç–∞, —Ç–µ–Ω–Ω–∏—Å–Ω—ã–π –∫–æ—Ä—Ç, —Ñ—É—Ç–±–æ–ª—å–Ω–æ–µ –ø–æ–ª–µ –¢–∞—à–∫–µ–Ω—Ç" />
  <meta name="author" content="Polyatop Team" />
  <meta name="robots" content="index, follow" />

  <!-- üåê Multilingual SEO -->
  <link rel="alternate" href="https://polyatop.com/" hreflang="ru" />
  <link rel="alternate" href="https://polyatop.com/uz/" hreflang="uz" />
  <link rel="alternate" href="https://polyatop.com/en/" hreflang="en" />
  <link rel="alternate" href="https://polyatop.com/" hreflang="x-default" />

  <!-- üèû Open Graph -->
  <meta property="og:title" content="Polyatop ‚Äî –û–Ω–ª–∞–π–Ω-–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –ø–ª–æ—â–∞–¥–æ–∫" />
  <meta property="og:description" content="–£–¥–æ–±–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –ø–ª–æ—â–∞–¥–æ–∫. –ò—â–∏ –∏ –∞—Ä–µ–Ω–¥—É–π –ø–æ–ª–µ –æ–Ω–ª–∞–π–Ω." />
  <meta property="og:image" content="https://polyatop.com/preview.png" />
  <meta property="og:url" content="https://polyatop.com/" />
  <meta property="og:type" content="website" />

  <!-- üåç Uzbek -->
  <meta name="title" content="Polyatop ‚Äî Sport maydonlarini onlayn bron qilish platformasi" lang="uz" />
  <meta name="description" content="Polyatop ‚Äî bu sport maydonlarini onlayn bron qilish uchun qulay raqamli platforma. Maydon toping, band qiling va oson boshqaring." lang="uz" />
  <meta name="keywords" content="Polyatop, sport maydon ijarasi, futbol maydoni, sport zal, maydon bron qilish, tennis kort ijarasi, Toshkent sport maydonlari" lang="uz" />

  <!-- üá¨üáß English -->
  <meta name="title" content="Polyatop ‚Äî Online Sports Field Booking Platform" lang="en" />
  <meta name="description" content="Polyatop is a digital platform for easy online booking of sports fields. Find, book, and manage your reservations effortlessly." lang="en" />
  <meta name="keywords" content="Polyatop, sports field booking, football field rental, gym rental, book sports venue, tennis court booking, sports arenas Tashkent" lang="en" />


  <!-- Favicon -->
  <link rel="icon" href="{% static 'logo.png' %}" type="image/png" />
  <title>Polyatop ‚Äî {% trans "–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –ø–ª–æ—â–∞–¥–æ–∫" %}</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
  <style>
    /* === Fonts & Theme === */
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@200;400;600;800&display=swap');

    :root {
      --bg: #0d1117;
      --bg-soft: #121826;
      --surface: #1a2234;
      --surface-2: #0f1625;
      --text: #f5f7fb;
      --muted: #c7cede;
      --accent: #00bcd4;
      --accent-2: #7c3aed;
      --success: #22c55e;
      --warning: #f59e0b;
      --danger: #ef4444;
      --radius: 14px;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --glass: rgba(255,255,255,.04);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; scroll-behavior: smooth; }
    body {
      margin: 0;
      font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
      color: var(--text);
      background: radial-gradient(1200px 600px at 10% -10%, rgba(0,188,212,.15), transparent 60%),
                  radial-gradient(1000px 600px at 110% -30%, rgba(124,58,237,.18), transparent 60%),
                  var(--bg);
      overflow-x: hidden;
    }

    a { color: inherit; text-decoration: none; }
    img { max-width: 100%; display: block; }
    .container { width: min(1200px, 92vw); margin-inline: auto; }

    /* === Header === */
    header {
      position: fixed; inset-inline: 0; top: 0; z-index: 1000;
      backdrop-filter: saturate(1.2) blur(10px);
      background: linear-gradient(180deg, rgba(13,17,23,.75), rgba(13,17,23,.35));
      border-bottom: 1px solid rgba(255,255,255,.06);
    }
    .nav { display: flex; align-items: center; justify-content: space-between; padding: 14px 0; }
    .logo { display: flex; align-items: center; gap: 10px; font-weight: 800; letter-spacing: .5px; }
    .logo i { color: var(--accent); }

    .nav-links { display: flex; align-items: center; gap: 20px; }
    .nav-links a { padding: 10px 14px; border-radius: 999px; color: var(--muted); font-weight: 600; font-size: .95rem; }
    .nav-links a.active, .nav-links a:hover { color: var(--text); background: var(--glass); }

    .burger { display: none; border: 0; background: transparent; color: var(--text); font-size: 1.4rem; }

    /* CTA button */
    .btn { display: inline-flex; align-items: center; gap: 10px; padding: 12px 18px; border-radius: 999px; border: 1px solid transparent; font-weight: 700; cursor: pointer; transition: .25s ease; }
    .btn-primary { background: linear-gradient(135deg, var(--accent), #18e0f8); color: #001219; box-shadow: var(--shadow); }
    .btn-primary:hover { transform: translateY(-1px); filter: brightness(1.03); }
    .btn-ghost { background: var(--glass); border-color: rgba(255,255,255,.08); color: var(--text); }
    .btn-ghost:hover { background: rgba(255,255,255,.08); }

    /* === Hero === */
    .section { position: relative; padding: clamp(72px, 8vw, 120px) 0; }
    .hero { min-height: 100vh; display: grid; place-items: center; }
    .hero-grid { display: grid; grid-template-columns: 1.2fr 1fr; gap: clamp(24px, 4vw, 48px); align-items: center; }
    .hero h1 { font-size: clamp(2.2rem, 6vw, 4.2rem); line-height: 1.05; margin: 0 0 14px; }
    .hero p { font-size: clamp(1.05rem, 2.2vw, 1.25rem); color: var(--muted); margin: 0 0 26px; }
    .hero .badges { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 24px; }
    .badge { padding: 8px 12px; border-radius: 999px; background: var(--glass); color: var(--muted); font-weight: 600; font-size: .9rem; border: 1px solid rgba(255,255,255,.06); }
    .cta { display: flex; gap: 12px; flex-wrap: wrap; }

    .hero-card { background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)); border: 1px solid rgba(255,255,255,.08); border-radius: var(--radius); padding: 20px; box-shadow: var(--shadow); display: grid; grid-template-columns: 48px 1fr; gap: 14px; align-items: center; }
    .hero-card i { font-size: 1.4rem; color: var(--accent); }

    /* === About === */
    .about { background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00)); }
    .section-title { font-size: clamp(1.8rem, 4vw, 2.6rem); margin: 0 0 8px; }
    .section-sub { color: var(--muted); margin: 0 0 30px; }

    .audiences { display: grid; grid-template-columns: repeat(3, 1fr); gap: 18px; }
    .card { background: var(--surface); border: 1px solid rgba(255,255,255,.06); border-radius: var(--radius); padding: 22px; transition: transform .25s ease, border-color .25s ease, box-shadow .25s ease; }
    .card:hover { transform: translateY(-4px); border-color: rgba(255,255,255,.16); box-shadow: var(--shadow); }
    .card h3 { margin: 6px 0 10px; font-size: 1.15rem; }
    .card p { margin: 0; color: var(--muted); font-size: .98rem; }

    /* === Features === */
    .features .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 18px; }
    .feature { background: linear-gradient(180deg, var(--surface), var(--surface-2)); border: 1px solid rgba(255,255,255,.06); border-radius: var(--radius); padding: 22px; position: relative; overflow: hidden; }
    .feature i { font-size: 1.4rem; }
    .feature .icon { width: 44px; height: 44px; border-radius: 12px; display: grid; place-items: center; background: linear-gradient(135deg, rgba(0,188,212,.18), rgba(124,58,237,.18)); border: 1px solid rgba(255,255,255,.08); margin-bottom: 12px; }
    .feature h4 { margin: 6px 0 8px; font-size: 1.06rem; }
    .feature p { margin: 0; color: var(--muted); font-size: .96rem; }
    .feature:hover { outline: 1px solid rgba(255,255,255,.14); transform: translateY(-2px); box-shadow: var(--shadow); }

    /* === CTA strip === */
    .cta-strip { background: linear-gradient(90deg, rgba(0,188,212,.15), rgba(124,58,237,.15)); border-top: 1px solid rgba(255,255,255,.06); border-bottom: 1px solid rgba(255,255,255,.06); }
    .cta-wrap { display: grid; grid-template-columns: 1fr auto; gap: 16px; align-items: center; }
    .cta-wrap p { margin: 0; color: var(--muted); }

    /* === Contacts === */
    .contacts .grid { display: grid; grid-template-columns: 1.1fr .9fr; gap: 24px; }
    .contact-card { background: var(--surface); border: 1px solid rgba(255,255,255,.06); border-radius: var(--radius); padding: 22px; }
    .contact-row { display: flex; align-items: center; gap: 12px; padding: 12px; border-radius: 12px; background: var(--glass); margin-bottom: 10px; }
    .contact-row a { color: var(--text); font-weight: 700; }

    form { display: grid; gap: 12px; }
    .field { display: grid; gap: 6px; }
    .field label { color: var(--muted); font-size: .92rem; }
    .input { width: 100%; padding: 12px 14px; border-radius: 12px; background: var(--surface-2); color: var(--text); border: 1px solid rgba(255,255,255,.08); outline: none; }
    .input:focus { border-color: var(--accent); box-shadow: 0 0 0 3px rgba(0,188,212,.12); }
    textarea.input { min-height: 120px; resize: vertical; }

    /* === Footer === */
    footer { background: #0a0f19; border-top: 1px solid rgba(255,255,255,.06); }
    .footer-grid { display: grid; grid-template-columns: 1.2fr .8fr .8fr; gap: 18px; padding: 36px 0; }
    .footer-col h5 { margin: 0 0 12px; font-size: 1rem; }
    .footer-col a { color: var(--muted); display: inline-block; padding: 6px 0; }
    .footer-bottom { border-top: 1px solid rgba(255,255,255,.06); padding: 16px 0; color: var(--muted); font-size: .92rem; display: flex; justify-content: space-between; gap: 10px; flex-wrap: wrap; }

    /* === WebGL layer === */
    #webgl-container { position: fixed; inset: 0; z-index: 0; pointer-events: none; }
    #page { position: relative; z-index: 1; }

    /* === Utilities === */
    .divider { height: 1px; background: linear-gradient(90deg, rgba(255,255,255,.06), rgba(255,255,255,0)); margin: 30px 0; }
    .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); border: 0; }

    /* === Adaptive === */
    @media (max-width: 1024px) {
      .hero-grid { grid-template-columns: 1fr; text-align: center; }
      .cta { justify-content: center; }
      .audiences { grid-template-columns: repeat(2, 1fr); }
      .features .grid { grid-template-columns: repeat(2, 1fr); }
      .contacts .grid { grid-template-columns: 1fr; }
      .footer-grid { grid-template-columns: 1fr 1fr; }
    }
    @media (max-width: 680px) {
      .nav-links { position: fixed; top: 60px; right: 16px; left: 16px; background: rgba(10,15,25,.96); border: 1px solid rgba(255,255,255,.06); border-radius: 14px; padding: 12px; flex-direction: column; gap: 4px; display: none; }
      .nav-links.show { display: flex; }
      .burger { display: inline-flex; }
      .audiences { grid-template-columns: 1fr; }
      .features .grid { grid-template-columns: 1fr; }
      .footer-grid { grid-template-columns: 1fr; }
    }

    /* Back-to-top */
    .to-top { position: fixed; right: 18px; bottom: 18px; z-index: 1001; opacity: 0; visibility: hidden; transform: translateY(8px); transition: .25s ease; }
    .to-top.show { opacity: 1; visibility: visible; transform: translateY(0); }
    .lang-switcher {
      margin-left: 1rem;
    }
    
    .lang-switcher select {
      background: transparent;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 4px 8px;
      color: #333;
      font-weight: 500;
      cursor: pointer;
    }
    
    .lang-switcher select:hover {
      border-color: #666;
    }
    
  </style>
</head>
<body>
  <div id="webgl-container" aria-hidden="true"></div>

  <header aria-label="–ì–ª–∞–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
    <div class="container nav">
      <a class="logo" href="#hero" aria-label="–ù–∞ –≥–ª–∞–≤–Ω—É—é">
        <i class="fa-solid fa-futbol"></i>
        <span>Polyatop</span>
      </a>
      <nav>
        <button class="burger" aria-controls="menu" aria-expanded="false" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é">
          <i class="fa-solid fa-bars"></i>
        </button>
        <div id="menu" class="nav-links" role="menu">
          <a href="#about" role="menuitem">{%trans "–û –ø—Ä–æ–µ–∫—Ç–µ" %}</a>
          <a href="#features" role="menuitem">{% trans "–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏" %}</a>
          <a href="#contacts" role="menuitem">{% trans "–ö–æ–Ω—Ç–∞–∫—Ç—ã" %}</a>
          <a href="#cta" class="btn btn-ghost" role="menuitem"><i class="fa-regular fa-calendar-check"></i>{% trans "–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å" %}</a>
        </div>
        <div class="lang-switcher">
          <form action="{% url 'set_language' %}" method="post">
            {% csrf_token %}
            <select name="language" onchange="this.form.submit()" aria-label="–í—ã–±–æ—Ä —è–∑—ã–∫–∞">
              <option value="ru" {% if LANGUAGE_CODE == 'ru' %}selected{% endif %}>üá∑üá∫ RU</option>
              <option value="uz" {% if LANGUAGE_CODE == 'uz' %}selected{% endif %}>üá∫üáø UZ</option>
              <option value="en" {% if LANGUAGE_CODE == 'en' %}selected{% endif %}>üá¨üáß EN</option>
            </select>
          </form>
        </div>
      </nav>
    </div>
    </div>
  </header>

  <main id="page">
    <!-- Hero -->
    <section id="hero" class="section hero">
      <div class="container hero-grid">
        <div>
          <div class="badges">
            <span class="badge"><i class="fa-solid fa-shield-check"></i>{% trans "–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–ø–ª–∞—Ç—ã" %}</span>
            <span class="badge"><i class="fa-regular fa-clock"></i>{% trans "–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞ 30 —Å–µ–∫" %}</span>
          </div>
          <h1>{% trans "–ò—â–∏, –±—Ä–æ–Ω–∏—Ä—É–π –∏ –∏–≥—Ä–∞–π" %}
            <br /><span style="background: linear-gradient(90deg, var(--accent), var(--accent-2)); -webkit-background-clip: text; background-clip: text; color: transparent;">{% trans "–Ω–∞ –ª—É—á—à–∏—Ö –ø–ª–æ—â–∞–¥–∫–∞—Ö" %}</span></h1>
          <p>{% trans "Polyatop –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –∏–≥—Ä–æ–∫–æ–≤ –∏ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –ø–ª–æ—â–∞–¥–æ–∫: –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –±—Ä–æ–Ω—å, —É–¥–æ–±–Ω—ã–µ –æ–ø–ª–∞—Ç—ã –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—Ä–µ–Ω–¥–∞–º–∏ ‚Äî –≤—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ." %}</p>
          <div class="cta">
            <a href="#features" class="btn btn-primary"><i class="fa-regular fa-calendar-check"></i>{% trans "–ù–∞—á–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ" %}</a>
            <a href="#about" class="btn btn-ghost"><i class="fa-regular fa-circle-question"></i>{% trans "–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç" %}</a>
          </div>
          <div class="divider"></div>
          <div class="hero-card">
            <i class="fa-solid fa-chart-line"></i>
            <div>
              <strong>{% trans "–î–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤:" %}</strong>
              <div style="color: var(--muted)">{% trans "–û–Ω–ª–∞–π–Ω-–∫–∞–ª–µ–Ω–¥–∞—Ä—å, –¥–µ–ø–æ–∑–∏—Ç—ã, —á–∞—Å—Ç–∏—á–Ω–∞—è/–≥—Ä—É–ø–ø–æ–≤–∞—è –æ–ø–ª–∞—Ç–∞, –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –∏ API." %}</div>
            </div>
          </div>
        </div>
        <div>
          <!-- Placeholder –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è / —Å–∫—Ä–∏–Ω / 3D –æ–±—ä–µ–∫—Ç –ø–æ–≤–µ—Ä—Ö WebGL -->
          <div class="card" style="aspect-ratio: 4/3; display:grid; place-items:center; background: linear-gradient(135deg, rgba(0,188,212,.08), rgba(124,58,237,.08)); border: 1px dashed rgba(255,255,255,.14);">
            <div style="text-align:center; color: var(--muted)">
              <i class="fa-regular fa-image" style="font-size: 2rem; display:block; margin-bottom:8px"></i>
              {% trans "–ó–∞–≥—Ä—É–∑–∏–º —Å—é–¥–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç –≤–µ–±‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è / 3D" %}
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- About -->
    <section id="about" class="section about">
      <div class="container">
        <h2 class="section-title">{% trans "–û –ø—Ä–æ–µ–∫—Ç–µ" %}</h2>
        <p class="section-sub">Polyatop ‚Äî {% trans "—Ü–∏—Ñ—Ä–æ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–µ–¥–∏–Ω—è–µ—Ç –∏–≥—Ä–æ–∫–æ–≤ –∏ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –ø–ª–æ—â–∞–¥–æ–∫. –í –æ—Å–Ω–æ–≤–µ ‚Äî –ø—Ä–æ—Å—Ç–æ—Ç–∞ –∏ —Å–∫–æ—Ä–æ—Å—Ç—å: –æ—Ç –ø–æ–∏—Å–∫–∞ –¥–æ –æ–ø–ª–∞—Ç—ã." %}</p>
        <div class="audiences">
          <div class="card">
            <div class="icon"><i class="fa-solid fa-users"></i></div>
            <h3>{% trans "–ò–≥—Ä–æ–∫–∞–º" %}</h3>
            <p>{% trans "–ù–∞—Ö–æ–¥–∏ –ø–ª–æ—â–∞–¥–∫—É —Ä—è–¥–æ–º, —Å–º–æ—Ç—Ä–∏ —Å–≤–æ–±–æ–¥–Ω—ã–µ —Å–ª–æ—Ç—ã –∏ –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ –±—Ä–æ–Ω–∏—Ä—É–π –±–µ–∑ –∑–≤–æ–Ω–∫–æ–≤." %}</p>
          </div>
          <div class="card">
            <div class="icon"><i class="fa-solid fa-store"></i></div>
            <h3>{% trans "–í–ª–∞–¥–µ–ª—å—Ü–∞–º" %}</h3>
            <p>{% trans "–û–Ω–ª–∞–π–Ω‚Äë—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, –¥–µ–ø–æ–∑–∏—Ç—ã, –≥–∏–±–∫–∏–µ —Ç–∞—Ä–∏—Ñ—ã, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏." %}</p>
          </div>
          <div class="card">
            <div class="icon"><i class="fa-solid fa-people-group"></i></div>
            <h3>{% trans "–ö–æ–º–∞–Ω–¥–∞–º" %}</h3>
            <p>{% trans "–ì—Ä—É–ø–ø–æ–≤—ã–µ –æ–ø–ª–∞—Ç—ã, –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –¥—Ä—É–∑–µ–π –∏ –æ–±—â–∏–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫." %}</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Features -->
    <section id="features" class="section features">
      <div class="container">
        <h2 class="section-title">{% trans "–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏" %}</h2>
        <p class="section-sub">{% trans "–ù–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ –∏ —É–¥–æ–±–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è." %}</p>
        <div class="grid">
          <div class="feature">
            <div class="icon"><i class="fa-solid fa-magnifying-glass-plus"></i></div>
            <h4>{% trans "–ö–∞—Ç–∞–ª–æ–≥ –ø–ª–æ—â–∞–¥–æ–∫" %}</h4>
            <p>{% trans "–§–∏–ª—å—Ç—Ä—ã –ø–æ –≤–∏–¥—É —Å–ø–æ—Ä—Ç–∞, —Ü–µ–Ω–µ, –ø–æ–∫—Ä—ã—Ç–∏—é, –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—é." %}</p>
          </div>
          <div class="feature">
            <div class="icon"><i class="fa-regular fa-calendar-check"></i></div>
            <h4>{% trans "–û–Ω–ª–∞–π–Ω‚Äë–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ" %}</h4>
            <p>{% trans "–†–µ–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –±—Ä–æ–Ω—å, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∏ –æ—Ç–º–µ–Ω–∞ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º." %}</p>
          </div>
          <div class="feature">
            <div class="icon"><i class="fa-solid fa-wrench"></i></div>
            <h4>{% trans "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ" %}</h4>
            <p>{% trans "–ì–∏–±–∫–∏–µ —Ç–∞—Ä–∏—Ñ—ã, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–ª–æ—Ç–æ–≤, –∞–∫—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏ –ø—Ä–æ–º–æ–∫–æ–¥—ã." %}</p>
          </div>
          <div class="feature">
            <div class="icon"><i class="fa-regular fa-credit-card"></i></div>
            <h4>{% trans "–û–ø–ª–∞—Ç—ã" %}</h4>
            <p>{% trans "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —á–∞—Å—Ç–∏—á–Ω–æ–π/–≥—Ä—É–ø–ø–æ–≤–æ–π –æ–ø–ª–∞—Ç—ã, –¥–µ–ø–æ–∑–∏—Ç–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤." %}</p>
          </div>
          <div class="feature">
            <div class="icon"><i class="fa-solid fa-globe"></i></div>
            <h4>{% trans "–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è" %}</h4>
            <p>{% trans "–†—É—Å—Å–∫–∏–π, —É–∑–±–µ–∫—Å–∫–∏–π –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫–∏. –ß–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞ –∏ –≤–∞–ª—é—Ç—ã." %}</p>
          </div>
          <div class="feature">
            <div class="icon"><i class="fa-solid fa-code"></i></div>
            <h4>{% trans "API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è" %}</h4>
            <p>{% trans "–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–∞–π—Ç—É/–±–æ—Ç—É, webhooks –∏ —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö." %}</p>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA strip -->
    <section id="cta" class="section cta-strip">
      <div class="container cta-wrap">
        <p><strong>{% trans "–ì–æ—Ç–æ–≤—ã –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å?" %}</strong>{% trans "–ó–∞–±—Ä–æ–Ω–∏—Ä—É–π—Ç–µ –ø–ª–æ—â–∞–¥–∫—É –æ–Ω–ª–∞–π–Ω ‚Äî –±—ã—Å—Ç—Ä–æ –∏ –±–µ–∑ –∑–≤–æ–Ω–∫–æ–≤." %}</p>
        <div class="cta">
          <a href="https://t.me/ibr6xim" class="btn btn-primary"><i class="fa-brands fa-telegram"></i>{% trans "–û—Ç–∫—Ä—ã—Ç—å –≤ Telegram" %}</a>
          <a href="#contacts" class="btn btn-ghost"><i class="fa-regular fa-envelope"></i> {% trans "–°–≤—è–∑–∞—Ç—å—Å—è" %}</a>
        </div>
      </div>
    </section>

    <!-- Contacts -->
    <section id="contacts" class="section contacts">
      <div class="container">
        <h2 class="section-title">{% trans "–ö–æ–Ω—Ç–∞–∫—Ç—ã" %}</h2>
        <p class="section-sub">{% trans "–û—Å—Ç–∞–≤—å—Ç–µ –∑–∞—è–≤–∫—É ‚Äî –º—ã —Å–≤—è–∂–µ–º—Å—è –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è." %}</p>
        <div class="grid">
          <div class="contact-card">
            <div class="contact-row"><i class="fa-brands fa-telegram"></i> <a href="https://t.me/ibr6xim" target="_blank" rel="noopener">@ibr6xim</a></div>
            <div class="contact-row"><i class="fa-regular fa-envelope"></i> <a href="mailto:hello@polyatop.com">hello@polyatop.com</a></div>
            <div class="contact-row"><i class="fa-solid fa-globe"></i> <span>polyatop.com</span></div>
          </div>
          <div class="contact-card">
            <form method="post" action="#" id="contactForm" onsubmit="sendContact(event);">
              <div class="field">
                <label for="name">{% trans "–í–∞—à–µ –∏–º—è" %}</label>
                <input class="input" id="name" name="name" placeholder="–ò–≤–∞–Ω" required />
              </div>
              <div class="field">
                <label for="phone">{% trans "–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞" %}</label>
                <input class="input" id="phone" name="phone" placeholder="+998 90 123 45 67" required />
              </div>
              <div class="field">
                <label for="telegram">{% trans "Telegram" %}</label>
                <input class="input" id="telegram" name="telegram" placeholder="@username" required />
              </div>
              <div class="field">
                <label for="message">{% trans "–°–æ–æ–±—â–µ–Ω–∏–µ" %}</label>
                <textarea class="input" id="message" name="message" placeholder="–ö–æ—Ä–æ—Ç–∫–æ –æ–ø–∏—à–∏—Ç–µ –∑–∞–¥–∞—á—É"></textarea>
              </div>
              <button class="btn btn-primary" type="submit"><i class="fa-regular fa-paper-plane"></i> {% trans "–û—Ç–ø—Ä–∞–≤–∏—Ç—å" %}</button>
            </form>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div class="container footer-grid">
      <div class="footer-col">
        <h5>Polyatop</h5>
        <p style="color:var(--muted); margin:0">{% trans "–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –ø–ª–æ—â–∞–¥–æ–∫." %}</p>
      </div>
      <div class="footer-col">
        <h5>{% trans "–ù–∞–≤–∏–≥–∞—Ü–∏—è" %}</h5>
        <a href="#about">{% trans "–û –ø—Ä–æ–µ–∫—Ç–µ" %}</a><br />
        <a href="#features">{% trans "–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏" %}</a><br />
        <a href="#contacts">{% trans "–ö–æ–Ω—Ç–∞–∫—Ç—ã" %}</a>
      </div>
      <div class="footer-col">
        <h5>{% trans "–ü–æ–¥–¥–µ—Ä–∂–∫–∞" %}</h5>
        <a href="#">{% trans "–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏" %}</a><br />
        <a href="#">{% trans "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ" %}</a>
      </div>
    </div>
    <div class="container footer-bottom">
      <span>¬© {{ now|date:'Y' }} Polyatop. {% trans "–í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã." %}</span>
      <span>{% trans "–°–¥–µ–ª–∞–Ω–æ —Å –ª—é–±–æ–≤—å—é –∫ —Å–ø–æ—Ä—Ç—É" %} ‚öΩ</span>
    </div>
  </footer>

  <!-- Back to top -->
  <a href="#hero" class="to-top btn btn-ghost" aria-label="–ù–∞–≤–µ—Ä—Ö"><i class="fa-solid fa-arrow-up"></i></a>

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollToPlugin.min.js"></script>
  <script>
    
    async function sendContact(event) {
      event.preventDefault();
  
      const data = {
        name: document.getElementById("name").value,
        phone: document.getElementById("phone").value,
        telegram: document.getElementById("telegram").value,
        message: document.getElementById("message").value,
      };
  
      try {
        const res = await fetch("/api/send-contact/", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data),
        });
  
        if (res.ok) {
          alert("‚úÖ –ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!");
          document.getElementById("contactForm").reset();
        } else {
          alert("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ!");
        }
      } catch (err) {
        console.error(err);
        alert("‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞ —Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º.");
      }
    }
  
    // === Mobile nav ===
    const burger = document.querySelector('.burger');
    const menu = document.getElementById('menu');
    burger?.addEventListener('click', () => {
      const expanded = burger.getAttribute('aria-expanded') === 'true';
      burger.setAttribute('aria-expanded', String(!expanded));
      menu.classList.toggle('show');
    });

    // === Active link on scroll ===
    const links = Array.from(document.querySelectorAll('.nav-links a')).filter(a => a.hash);
    const sections = links.map(a => document.querySelector(a.hash)).filter(Boolean);
    const setActive = () => {
      const y = window.scrollY + 120; // header offset
      let current = links[0];
      sections.forEach((sec, i) => {
        if (sec.offsetTop <= y) current = links[i];
      });
      links.forEach(a => a.classList.remove('active'));
      current?.classList.add('active');
    };
    window.addEventListener('scroll', setActive, { passive: true });
    window.addEventListener('load', setActive);

    // === Smooth scroll for internal links ===
    document.querySelectorAll('a[href^="#"]').forEach(a => {
      a.addEventListener('click', e => {
        const href = a.getAttribute('href');
        if (!href || href === '#') return;
        const target = document.querySelector(href);
        if (!target) return;
        e.preventDefault();
        gsap.to(window, { duration: 1.1, scrollTo: { y: target, offsetY: 70 }, ease: 'power3.inOut' });
        menu?.classList.remove('show');
      });
    });

    // === Back-to-top visibility ===
    const toTop = document.querySelector('.to-top');
    const toggleToTop = () => {
      if (window.scrollY > 400) toTop.classList.add('show'); else toTop.classList.remove('show');
    };
    window.addEventListener('scroll', toggleToTop, { passive: true });

    // === WebGL scene (lighter & optimized) ===
    const container = document.getElementById('webgl-container');
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    renderer.setPixelRatio(Math.min(2, window.devicePixelRatio || 1));
    renderer.setSize(window.innerWidth, window.innerHeight);
    container.appendChild(renderer.domElement);

    const ambient = new THREE.AmbientLight(0xffffff, .8);
    scene.add(ambient);
    const dir = new THREE.DirectionalLight(0xffffff, .8);
    dir.position.set(1,1,1);
    scene.add(dir);

    const objects = [];
    const geoms = [
      new THREE.IcosahedronGeometry(5, 0),
      new THREE.BoxGeometry(6, 6, 6),
      new THREE.TorusGeometry(5, 1.8, 16, 100),
      new THREE.OctahedronGeometry(5, 0)
    ];
    const colors = [0x00bcd4, 0xffa500, 0x8a2be2, 0x32cd32];
    const positions = [
      { x: -15, y: 0, z: -30 },
      { x: 15,  y: 6, z: -60 },
      { x: -8,  y: -4, z: -90 },
      { x: 10,  y: 3, z: -120 }
    ];

    for (let i = 0; i < geoms.length; i++) {
      const m = new THREE.MeshPhongMaterial({ color: colors[i], flatShading: true, transparent: true, opacity: .8 });
      const mesh = new THREE.Mesh(geoms[i], m);
      mesh.position.set(positions[i].x, positions[i].y, positions[i].z);
      scene.add(mesh);
      objects.push(mesh);
    }

    camera.position.z = 10;
    const clock = new THREE.Clock();
    let running = true;

    function animate() {
      if (!running) return;
      requestAnimationFrame(animate);
      const t = clock.getElapsedTime();
      objects.forEach((o, i) => {
        o.rotation.x += 0.004 + Math.sin(t * 0.1 + i) * 0.001;
        o.rotation.y += 0.006 + Math.cos(t * 0.2 + i) * 0.001;
        o.position.z += 0.04;
        if (o.position.z > 15) o.position.z = -140;
      });
      renderer.render(scene, camera);
    }
    animate();

    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });

    // Pause when tab hidden to save CPU
    document.addEventListener('visibilitychange', () => {
      running = document.hidden ? false : true;
      if (running) animate();
    });

    // === GSAP reveal animations ===
    gsap.registerPlugin(ScrollTrigger, ScrollToPlugin);

    const reveal = (el, opts = {}) => {
      gsap.from(el, { opacity: 0, y: 30, duration: .9, ease: 'power3.out', stagger: .08, scrollTrigger: { trigger: el, start: 'top 80%' }, ...opts });
    };

    reveal('.hero .badges');
    reveal('.hero h1', { y: 18 });
    reveal('.hero p', { y: 18 });
    reveal('.hero .cta');
    reveal('#about .card');
    reveal('#features .feature');
    reveal('#contacts .contact-card');

    // Respect reduced motion
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if (prefersReduced) {
      gsap.globalTimeline.timeScale(0.8);
    }
  </script>
</body>
</html>
